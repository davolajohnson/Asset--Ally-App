{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Asset Ally</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Global styles & background fallback -->
  <link rel="stylesheet" href="{% static 'css/style.css' %}">

  <!-- Random beach background rotator -->
  <script defer src="{% static 'js/theme.js' %}"></script>

  {% block extra_head %}{% endblock %}
</head>
<body>
  <header class="site-header">
    <div class="brand">Asset Ally</div>
    <nav class="nav" aria-label="Main">
      <a href="{% url 'home' %}">Home</a>
      <a href="{% url 'about' %}">About</a>
      <a href="{% url 'device-index' %}">Devices</a>

      {% if user.is_authenticated %}
        <!-- POST logout is recommended -->
        <form class="logout-form" method="post" action="{% url 'logout' %}">
          {% csrf_token %}
          <button class="linklike" type="submit" title="Log out {{ user.username }}">Log out</button>
        </form>
      {% else %}
        <a href="{% url 'login' %}">Log in</a>
      {% endif %}
    </nav>
  </header>

  <main class="page" role="main">
    {% if messages %}
      <ul class="messages" role="status" aria-live="polite">
        {% for message in messages %}
          <li>{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}

    {% block content %}{% endblock %}
  </main>

  <footer class="site-footer" role="contentinfo" style="text-align:center; padding:1rem 0; color:#e1f5ed;">
    <small>Â© {{ now|date:"Y" }} Asset Ally</small>
  </footer>

  {% block extra_scripts %}{% endblock %}
</body>
</html>
